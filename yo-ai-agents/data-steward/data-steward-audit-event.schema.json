// 6.2 Event schema (JSON)
{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://yo-ai.ai/schemas/data-steward-audit-event.schema.json",
  "title": "DataStewardAuditEvent",
  "description": "Append-only, multi-tenant audit event for Data-Steward activities.",
  "type": "object",
  "required": [
    "event_id",
    "event_type",
    "timestamp",
    "tenant_id",
    "subject_id",
    "metadata"
  ],
  "properties": {
    "event_id": {
      "type": "string",
      "description": "Unique identifier for this event (e.g., UUID)."
    },
    "event_type": {
      "type": "string",
      "description": "Type of event (govern_data_request, read_email, send_email, answer_phone, call_phone, etc.)."
    },
    "timestamp": {
      "type": "string",
      "format": "date-time",
      "description": "UTC timestamp in ISO 8601 format."
    },
    "tenant_id": {
      "type": "string",
      "description": "Identifier of the deployment tenant (if multi-tenant)."
    },
    "household_id": {
      "type": ["string", "null"],
      "description": "Household identifier, if subject is part of a household."
    },
    "subject_id": {
      "type": "string",
      "description": "Identifier of the subject represented by the Data-Steward instance."
    },
    "request_id": {
      "type": ["string", "null"],
      "description": "Identifier of the data request, if applicable."
    },
    "requester_id": {
      "type": ["string", "null"],
      "description": "Identifier of the caller / agent / vendor making the request."
    },
    "channel": {
      "type": ["string", "null"],
      "description": "Channel of interaction (webform, phone, email, api)."
    },
    "purpose": {
      "type": ["string", "null"],
      "description": "Specific purpose string (e.g., 'account_signup', 'purchase')."
    },
    "purpose_category": {
      "type": ["string", "null"],
      "description": "Categorized purpose (core_service, marketing, fraud_prevention, etc.)."
    },
    "decision_outcome": {
      "type": ["string", "null"],
      "enum": ["approve", "deny", "escalate", "require_additional_info", null],
      "description": "Outcome of a decision, if applicable."
    },
    "risk_score": {
      "type": ["number", "null"],
      "description": "Risk score used in decisioning, if applicable."
    },
    "policy_id": {
      "type": ["string", "null"],
      "description": "Identifier of the policy used in decisioning."
    },
    "escalation_reason": {
      "type": ["string", "null"],
      "description": "Reason for escalation, if any."
    },
    "allowed_fields": {
      "type": ["array", "null"],
      "items": { "type": "string" },
      "description": "Fields allowed to be shared in this decision."
    },
    "denied_fields": {
      "type": ["array", "null"],
      "items": { "type": "string" },
      "description": "Fields explicitly denied in this decision."
    },
    "shared_fields": {
      "type": ["array", "null"],
      "items": { "type": "string" },
      "description": "Fields actually shared with the requester."
    },
    "redacted_fields": {
      "type": ["array", "null"],
      "items": { "type": "string" },
      "description": "Fields requested but not shared."
    },
    "metadata": {
      "type": "object",
      "description": "Additional context specific to event_type (call metadata, email headers, etc.).",
      "additionalProperties": true
    }
  },
  "additionalProperties": false
}
