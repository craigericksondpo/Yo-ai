{
  "$id": "https://yo-ai.ai/schemas/mandate.manage.input.schema.json",
  "type": "object",
  "title": "Mandate.Manage.Input",
  "description": "Create, update, revoke, or query a payment mandate.",
  "required": ["action", "requestedBy"],
  "properties": {
    "action": {
      "type": "string",
      "enum": ["create", "update", "revoke", "get"],
      "description": "Mandate lifecycle action."
    },
    "mandateId": {
      "type": "string",
      "description": "Existing mandate identifier (required for update/revoke/get)."
    },
    "account": {
      "type": "object",
      "description": "Account or funding source associated with the mandate.",
      "properties": {
        "accountId": { "type": "string" },
        "provider": { "type": "string" },
        "type": { "type": "string", "description": "bank, card, AP2-account, etc." }
      }
    },
    "vendor": {
      "type": "object",
      "description": "Vendor or merchant receiving authorization.",
      "properties": {
        "vendorId": { "type": "string" },
        "name": { "type": "string" }
      }
    },
    "limits": {
      "type": "object",
      "description": "Optional spending or frequency limits.",
      "properties": {
        "maxAmount": { "type": "number" },
        "currency": { "type": "string" },
        "frequency": { "type": "string", "description": "daily, weekly, monthly, perTransaction" }
      }
    },
    "reason": {
      "type": "string",
      "description": "Reason for mandate creation or modification."
    },
    "requestedBy": {
      "type": "string",
      "description": "Actor requesting mandate management."
    },
    "metadata": {
      "type": "object",
      "description": "Provider-specific or routing metadata."
    }
  }
}