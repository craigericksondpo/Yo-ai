{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://a2a-spec.org/schemas/agentcard-extensions.json",
  "title": "A2A AgentCard Extension Fields",
  "type": "object",

  "properties": {
    "x-tasks": {
      "type": "array",
      "description": "Declarative list of task types the agent can process.",
      "items": {
        "type": "object",
        "required": ["taskType"],
        "properties": {
          "taskType": {
            "type": "string",
            "description": "Canonical task type identifier (e.g., complaint.generate)."
          },
          "inputSchema": {
            "type": ["object", "string"],
            "description": "JSON Schema object or $ref for task input."
          },
          "outputSchema": {
            "type": ["object", "string"],
            "description": "JSON Schema object or $ref for task output."
          },
          "description": {
            "type": "string",
            "description": "Human-readable description of the task."
          },
          "examples": {
            "type": "array",
            "items": { "type": "object" },
            "description": "Optional example inputs/outputs."
          }
        },
        "additionalProperties": false
      }
    },

    "x-tools": {
      "type": "array",
      "description": "Internal or external tools the agent can invoke.",
      "items": {
        "type": "object",
        "required": ["name"],
        "properties": {
          "name": {
            "type": "string",
            "description": "Tool name (e.g., http.get, vector.search)."
          },
          "description": {
            "type": "string",
            "description": "Human-readable description of the tool."
          },
          "inputSchema": {
            "type": ["object", "string"],
            "description": "JSON Schema object or $ref for tool input."
          },
          "outputSchema": {
            "type": ["object", "string"],
            "description": "JSON Schema object or $ref for tool output."
          },
          "auth": {
            "type": "string",
            "enum": ["none", "apiKey", "oauth2", "bearer", "custom"],
            "description": "Authentication mechanism required by the tool."
          }
        },
        "additionalProperties": false
      }
    },

    "x-messages": {
      "type": "array",
      "description": "Message/event types the agent emits or consumes.",
      "items": {
        "type": "object",
        "required": ["messageType"],
        "properties": {
          "messageType": {
            "type": "string",
            "description": "Canonical message/event type (e.g., complaint.submitted)."
          },
          "direction": {
            "type": "string",
            "enum": ["emit", "consume", "both"],
            "default": "emit",
            "description": "Whether the agent emits, consumes, or both."
          },
          "schema": {
            "type": ["object", "string"],
            "description": "JSON Schema object or $ref for the message payload."
          },
          "description": {
            "type": "string",
            "description": "Human-readable description of the message/event."
          }
        },
        "additionalProperties": false
      }
    },

    "x-artifacts": {
      "type": "array",
      "description": "Artifact types the agent can produce or consume.",
      "items": {
        "type": "object",
        "required": ["artifactType"],
        "properties": {
          "artifactType": {
            "type": "string",
            "description": "Canonical artifact type (e.g., evidence.manifest)."
          },
          "schema": {
            "type": ["object", "string"],
            "description": "JSON Schema object or $ref describing the artifact."
          },
          "description": {
            "type": "string",
            "description": "Human-readable description of the artifact."
          },
          "mediaType": {
            "type": "string",
            "description": "Optional MIME type (e.g., application/json)."
          }
        },
        "additionalProperties": false
      }
    }
  },

  "additionalProperties": true
}