openapi: 3.1.0
info:
  title: Yo-ai Platform Agent Capabilities API
  version: 1.0.0
  description: >
    Logical capability endpoints for all Yo-ai agents, suitable for
    test-case generation and A2A simulations. Infrastructure routes
    (/api/card, /api/talk, etc.) are assumed to exist per-agent and
    are not repeated here.

servers:
  - url: https://api.yo-ai.internal
    description: Internal Yo-ai A2A mesh

tags:
  - name: DarkWeb-Checker
  - name: DataBroker-Monitor
  - name: SocialMedia-Checker
  - name: Data-Anonymizer
  - name: Talent-Agent

paths:

  ############################################################
  # DarkWeb-Checker capabilities
  ############################################################

  /agents/darkweb-checker/Dark-Web.Scan:
    post:
      tags: [DarkWeb-Checker]
      summary: Scan dark web sources for stolen PI
      operationId: darkweb_scan
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DarkWebScanInput'
      responses:
        '200':
          description: Scan results
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DarkWebScanOutput'

  /agents/darkweb-checker/Data-Origins.Trace:
    post:
      tags: [DarkWeb-Checker]
      summary: Infer likely origin of stolen data
      operationId: data_origins_trace
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DataOriginsTraceInput'
      responses:
        '200':
          description: Origin analysis
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DataOriginsTraceOutput'

  /agents/darkweb-checker/Dark-Web-Evidence.Collect:
    post:
      tags: [DarkWeb-Checker]
      summary: Collect structured evidence of stolen PI
      operationId: darkweb_evidence_collect
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DarkWebEvidenceCollectInput'
      responses:
        '200':
          description: Evidence record
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DarkWebEvidenceCollectOutput'

  ############################################################
  # DataBroker-Monitor capabilities
  ############################################################

  /agents/databroker-monitor/Broker-Inventory.Scan:
    post:
      tags: [DataBroker-Monitor]
      summary: Scan broker inventories for subject matches
      operationId: broker_inventory_scan
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BrokerInventoryScanInput'
      responses:
        '200':
          description: Broker scan results
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BrokerInventoryScanOutput'

  /agents/databroker-monitor/Downstream-Vendors.Identify:
    post:
      tags: [DataBroker-Monitor]
      summary: Identify downstream vendors purchasing data
      operationId: downstream_vendors_identify
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DownstreamVendorsIdentifyInput'
      responses:
        '200':
          description: Downstream vendor mapping
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DownstreamVendorsIdentifyOutput'

  /agents/databroker-monitor/Broker-Evidence.Collect:
    post:
      tags: [DataBroker-Monitor]
      summary: Collect evidence of broker possession or sale
      operationId: broker_evidence_collect
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BrokerEvidenceCollectInput'
      responses:
        '200':
          description: Evidence record
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BrokerEvidenceCollectOutput'

  ############################################################
  # SocialMedia-Checker capabilities
  ############################################################

  /agents/socialmedia-checker/Promotional-Engagement.Verify:
    post:
      tags: [SocialMedia-Checker]
      summary: Verify promotional engagement requirements
      operationId: promotional_engagement_verify
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PromotionalEngagementVerifyInput'
      responses:
        '200':
          description: Engagement verification result
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PromotionalEngagementVerifyOutput'

  /agents/socialmedia-checker/Misappropriation.Detect:
    post:
      tags: [SocialMedia-Checker]
      summary: Detect misappropriation or leaked PI on social media
      operationId: misappropriation_detect
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/MisappropriationDetectInput'
      responses:
        '200':
          description: Misappropriation findings
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MisappropriationDetectOutput'

  /agents/socialmedia-checker/Evidence.Collect:
    post:
      tags: [SocialMedia-Checker]
      summary: Collect social media evidence
      operationId: social_evidence_collect
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SocialEvidenceCollectInput'
      responses:
        '200':
          description: Evidence record
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SocialEvidenceCollectOutput'

  ############################################################
  # Data-Anonymizer capabilities
  ############################################################

  /agents/data-anonymizer/Identifiability.Assess:
    post:
      tags: [Data-Anonymizer]
      summary: Assess identifiability of a dataset or attributes
      operationId: identifiability_assess
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/IdentifiabilityAssessInput'
      responses:
        '200':
          description: Identifiability assessment
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/IdentifiabilityAssessOutput'

  /agents/data-anonymizer/Deidentification-Techniques.Apply:
    post:
      tags: [Data-Anonymizer]
      summary: Recommend or apply de-identification techniques
      operationId: deidentification_techniques_apply
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DeidentificationTechniquesApplyInput'
      responses:
        '200':
          description: Transformation recommendations or results
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DeidentificationTechniquesApplyOutput'

  /agents/data-anonymizer/K-Anonymity.Compute:
    post:
      tags: [Data-Anonymizer]
      summary: Compute k-anonymity and related metrics
      operationId: k_anonymity_compute
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/KAnonymityComputeInput'
      responses:
        '200':
          description: Privacy metrics
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/KAnonymityComputeOutput'

  /agents/data-anonymizer/Safe-Release.Recommend:
    post:
      tags: [Data-Anonymizer]
      summary: Recommend safe release posture and mitigations
      operationId: safe_release_recommend
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SafeReleaseRecommendInput'
      responses:
        '200':
          description: Release recommendation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SafeReleaseRecommendOutput'

  /agents/data-anonymizer/Deidentification-Report.Generate:
    post:
      tags: [Data-Anonymizer]
      summary: Generate de-identification report
      operationId: deidentification_report_generate
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DeidentificationReportGenerateInput'
      responses:
        '200':
          description: De-identification report
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DeidentificationReportGenerateOutput'

  /agents/data-anonymizer/Auxiliary-Data-Risk.Evaluate:
    post:
      tags: [Data-Anonymizer]
      summary: Evaluate auxiliary data re-identification risk
      operationId: auxiliary_data_risk_evaluate
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AuxiliaryDataRiskEvaluateInput'
      responses:
        '200':
          description: Auxiliary data risk assessment
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AuxiliaryDataRiskEvaluateOutput'

  /agents/data-anonymizer/Data-For-Purpose.Minimize:
    post:
      tags: [Data-Anonymizer]
      summary: Determine minimum necessary data for a purpose
      operationId: data_for_purpose_minimize
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DataForPurposeMinimizeInput'
      responses:
        '200':
          description: Minimization recommendation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DataForPurposeMinimizeOutput'

  /agents/data-anonymizer/Reidentification-Attack.Simulate:
    post:
      tags: [Data-Anonymizer]
      summary: Simulate re-identification attacks
      operationId: reidentification_attack_simulate
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ReidentificationAttackSimulateInput'
      responses:
        '200':
          description: Attack simulation results
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ReidentificationAttackSimulateOutput'

  /agents/data-anonymizer/Deidentification-Standard.Map:
    post:
      tags: [Data-Anonymizer]
      summary: Map de-identification posture to standards
      operationId: deidentification_standard_map
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DeidentificationStandardMapInput'
      responses:
        '200':
          description: Standards mapping
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DeidentificationStandardMapOutput'

  /agents/data-anonymizer/Deidentification-Guidance.Publish:
    post:
      tags: [Data-Anonymizer]
      summary: Publish de-identification guidance
      operationId: deidentification_guidance_publish
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DeidentificationGuidancePublishInput'
      responses:
        '200':
          description: Published guidance
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DeidentificationGuidancePublishOutput'

  ############################################################
  # Talent-Agent capabilities
  ############################################################

  /agents/talent-agent/Job-Postings.Scan:
    post:
      tags: [Talent-Agent]
      summary: Scan job postings for matching opportunities
      operationId: job_postings_scan
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/JobPostingsScanInput'
      responses:
        '200':
          description: Matching job postings
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/JobPostingsScanOutput'

  /agents/talent-agent/Consulting-Services.Pitch:
    post:
      tags: [Talent-Agent]
      summary: Generate consulting service pitches
      operationId: consulting_services_pitch
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ConsultingServicesPitchInput'
      responses:
        '200':
          description: Generated pitch
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ConsultingServicesPitchOutput'

  /agents/talent-agent/Application.Submit:
    post:
      tags: [Talent-Agent]
      summary: Submit job applications
      operationId: application_submit
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ApplicationSubmitInput'
      responses:
        '200':
          description: Application submission result
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApplicationSubmitOutput'

  /agents/talent-agent/Talent-Profile.Request:
    post:
      tags: [Talent-Agent]
      summary: Request minimized talent profile from Data-Steward
      operationId: talent_profile_request
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TalentProfileRequestInput'
      responses:
        '200':
          description: Talent profile bundle
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TalentProfileRequestOutput'

components:
  schemas:

    ##########################################################
    # Shared primitives
    ##########################################################

    SubjectIdentifiers:
      type: object
      description: Minimized identifiers used across agents
      properties:
        email:
          type: string
          format: email
        phone:
          type: string
        handle:
          type: string
        profile_id:
          type: string
        extra:
          type: object
      additionalProperties: true

    Finding:
      type: object
      properties:
        id:
          type: string
        type:
          type: string
        description:
          type: string
        confidence:
          type: number
          minimum: 0
          maximum: 1
        severity:
          type: string
        evidence_refs:
          type: array
          items:
            type: string

    EvidenceRecord:
      type: object
      properties:
        evidence_id:
          type: string
        source:
          type: string
        captured_at:
          type: string
          format: date-time
        metadata:
          type: object
        artifacts:
          type: array
          items:
            type: object
      additionalProperties: true

    ##########################################################
    # DarkWeb-Checker
    ##########################################################

    DarkWebScanInput:
      type: object
      properties:
        subject:
          $ref: '#/components/schemas/SubjectIdentifiers'
        scope:
          type: string
          description: Scan scope or depth hint
        context:
          type: object
      required: [subject]

    DarkWebScanOutput:
      type: object
      properties:
        findings:
          type: array
          items:
            $ref: '#/components/schemas/Finding'
        evidence:
          type: array
          items:
            $ref: '#/components/schemas/EvidenceRecord'

    DataOriginsTraceInput:
      type: object
      properties:
        dataset_signature:
          type: string
        sample_fields:
          type: array
          items:
            type: string
        context:
          type: object

    DataOriginsTraceOutput:
      type: object
      properties:
        candidate_sources:
          type: array
          items:
            type: object
        confidence_summary:
          type: string

    DarkWebEvidenceCollectInput:
      type: object
      properties:
        subject:
          $ref: '#/components/schemas/SubjectIdentifiers'
        listing_url:
          type: string
        snapshot_metadata:
          type: object
        notes:
          type: string

    DarkWebEvidenceCollectOutput:
      $ref: '#/components/schemas/EvidenceRecord'

    ##########################################################
    # DataBroker-Monitor
    ##########################################################

    BrokerInventoryScanInput:
      type: object
      properties:
        subject:
          $ref: '#/components/schemas/SubjectIdentifiers'
        broker_ids:
          type: array
          items:
            type: string
        context:
          type: object
      required: [subject]

    BrokerInventoryScanOutput:
      type: object
      properties:
        matches:
          type: array
          items:
            $ref: '#/components/schemas/Finding'

    DownstreamVendorsIdentifyInput:
      type: object
      properties:
        broker_id:
          type: string
        subject:
          $ref: '#/components/schemas/SubjectIdentifiers'
        context:
          type: object

    DownstreamVendorsIdentifyOutput:
      type: object
      properties:
        vendors:
          type: array
          items:
            type: object

    BrokerEvidenceCollectInput:
      type: object
      properties:
        broker_id:
          type: string
        subject:
          $ref: '#/components/schemas/SubjectIdentifiers'
        dataset_ref:
          type: string
        metadata:
          type: object

    BrokerEvidenceCollectOutput:
      $ref: '#/components/schemas/EvidenceRecord'

    ##########################################################
    # SocialMedia-Checker
    ##########################################################

    PromotionalEngagementVerifyInput:
      type: object
      properties:
        subject:
          $ref: '#/components/schemas/SubjectIdentifiers'
        campaign_id:
          type: string
        required_actions:
          type: array
          items:
            type: string
        context:
          type: object
      required: [subject]

    PromotionalEngagementVerifyOutput:
      type: object
      properties:
        eligible:
          type: boolean
        missing_actions:
          type: array
          items:
            type: string
        evidence:
          type: array
          items:
            $ref: '#/components/schemas/EvidenceRecord'

    MisappropriationDetectInput:
      type: object
      properties:
        subject:
          $ref: '#/components/schemas/SubjectIdentifiers'
        platforms:
          type: array
          items:
            type: string
        context:
          type: object

    MisappropriationDetectOutput:
      type: object
      properties:
        findings:
          type: array
          items:
            $ref: '#/components/schemas/Finding'

    SocialEvidenceCollectInput:
      type: object
      properties:
        subject:
          $ref: '#/components/schemas/SubjectIdentifiers'
        post_url:
          type: string
        snapshot_metadata:
          type: object
        notes:
          type: string

    SocialEvidenceCollectOutput:
      $ref: '#/components/schemas/EvidenceRecord'

    ##########################################################
    # Data-Anonymizer
    ##########################################################

    IdentifiabilityAssessInput:
      type: object
      properties:
        dataset_schema:
          type: object
        sample_records:
          type: array
          items:
            type: object
        context:
          type: object

    IdentifiabilityAssessOutput:
      type: object
      properties:
        risk_level:
          type: string
        quasi_identifiers:
          type: array
          items:
            type: string
        findings:
          type: array
          items:
            $ref: '#/components/schemas/Finding'

    DeidentificationTechniquesApplyInput:
      type: object
      properties:
        dataset_schema:
          type: object
        policies:
          type: object
        context:
          type: object

    DeidentificationTechniquesApplyOutput:
      type: object
      properties:
        recommended_transformations:
          type: array
          items:
            type: object

    KAnonymityComputeInput:
      type: object
      properties:
        dataset_schema:
          type: object
        sample_records:
          type: array
          items:
            type: object
        quasi_identifiers:
          type: array
          items:
            type: string

    KAnonymityComputeOutput:
      type: object
      properties:
        k:
          type: integer
        l_diversity:
          type: number
        t_closeness:
          type: number

    SafeReleaseRecommendInput:
      type: object
      properties:
        dataset_schema:
          type: object
        context:
          type: object

    SafeReleaseRecommendOutput:
      type: object
      properties:
        safe_to_release:
          type: boolean
        required_mitigations:
          type: array
          items:
            type: string

    DeidentificationReportGenerateInput:
      type: object
      properties:
        assessment_id:
          type: string
        context:
          type: object

    DeidentificationReportGenerateOutput:
      type: object
      properties:
        report_id:
          type: string
        report:
          type: object

    AuxiliaryDataRiskEvaluateInput:
      type: object
      properties:
        dataset_schema:
          type: object
        auxiliary_sources:
          type: array
          items:
            type: string

    AuxiliaryDataRiskEvaluateOutput:
      type: object
      properties:
        risk_level:
          type: string
        findings:
          type: array
          items:
            $ref: '#/components/schemas/Finding'

    DataForPurposeMinimizeInput:
      type: object
      properties:
        purpose:
          type: string
        fields:
          type: array
          items:
            type: string

    DataForPurposeMinimizeOutput:
      type: object
      properties:
        required_fields:
          type: array
          items:
            type: string
        unnecessary_fields:
          type: array
          items:
            type: string

    ReidentificationAttackSimulateInput:
      type: object
      properties:
        dataset_schema:
          type: object
        attacker_model:
          type: object

    ReidentificationAttackSimulateOutput:
      type: object
      properties:
        success_probability:
          type: number
        scenarios:
          type: array
          items:
            type: object

    DeidentificationStandardMapInput:
      type: object
      properties:
        posture:
          type: object
        standards:
          type: array
          items:
            type: string

    DeidentificationStandardMapOutput:
      type: object
      properties:
        mappings:
          type: array
          items:
            type: object

    DeidentificationGuidancePublishInput:
      type: object
      properties:
        audience:
          type: string
        guidance:
          type: object

    DeidentificationGuidancePublishOutput:
      type: object
      properties:
        guidance_id:
          type: string
        published_at:
          type: string
          format: date-time

    ##########################################################
    # Talent-Agent
    ##########################################################

    JobPostingsScanInput:
      type: object
      properties:
        subject:
          $ref: '#/components/schemas/SubjectIdentifiers'
        filters:
          type: object

    JobPostingsScanOutput:
      type: object
      properties:
        postings:
          type: array
          items:
            type: object

    ConsultingServicesPitchInput:
      type: object
      properties:
        subject:
          $ref: '#/components/schemas/SubjectIdentifiers'
        opportunity_description:
          type: string
        context:
          type: object

    ConsultingServicesPitchOutput:
      type: object
      properties:
        pitch_text:
          type: string
        metadata:
          type: object

    ApplicationSubmitInput:
      type: object
      properties:
        subject:
          $ref: '#/components/schemas/SubjectIdentifiers'
        job_posting:
          type: object
        materials:
          type: object

    ApplicationSubmitOutput:
      type: object
      properties:
        submission_id:
          type: string
        status:
          type: string

    TalentProfileRequestInput:
      type: object
      properties:
        subject_ref:
          type: string
        scope:
          type: string

    TalentProfileRequestOutput:
      type: object
      properties:
        profile:
          type: object
        minimization_notes:
          type: string
