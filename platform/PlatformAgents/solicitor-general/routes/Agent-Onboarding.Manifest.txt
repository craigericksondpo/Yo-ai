ðŸ“¦ Solicitor General Capability Manifest (Derived from OpenAPI)
This is the artifact the Solicitor General hands to a new agent during onboarding.
agentCapabilityManifest:
  version: "2026-01-26"
  issuedBy: "Solicitor-General"
  purpose: "Declare available tasks, schemas, privileges, and routing rules for mediated interaction."

  # High-level description of the SGâ€™s role
  mediatorModel:
    routing: "All task requests must be submitted to the Solicitor-General for validation, privilege checks, and forwarding."
    audit: "All requests and responses are wrapped in audit envelopes with correlation IDs."
    schemaValidation: "All payloads must conform to the canonical schemas defined below."

  tasks:
    - operationId: "Task.Submit"
      summary: "Submit a task request for processing by the appropriate agent."
      ownedBy: "Solicitor-General"
      privilegesRequired: ["task.submit"]
      inputSchemaRef: "#/schemas/TaskSubmitRequest"
      outputSchemaRef: "#/schemas/TaskSubmitResponse"
      routing:
        strategy: "determine-target-agent"
        targetField: "task.targetAgent"
        correlation: "auto"

    - operationId: "Task.Status"
      summary: "Retrieve the status of a previously submitted task."
      ownedBy: "Solicitor-General"
      privilegesRequired: ["task.read"]
      inputSchemaRef: "#/schemas/TaskStatusRequest"
      outputSchemaRef: "#/schemas/TaskStatusResponse"
      routing:
        strategy: "internal"
        correlation: "required"

    - operationId: "Event.Log"
      summary: "Emit a structured event into the platform event stream."
      ownedBy: "Solicitor-General"
      privilegesRequired: ["event.emit"]
      inputSchemaRef: "#/schemas/EventLogRequest"
      outputSchemaRef: "#/schemas/EventLogResponse"
      routing:
        strategy: "async"
        channel: "platform.events"

    - operationId: "RequestResponse.Correlate"
      summary: "Correlate a response with a previously submitted request."
      ownedBy: "Solicitor-General"
      privilegesRequired: ["task.read"]
      inputSchemaRef: "#/schemas/CorrelationRequest"
      outputSchemaRef: "#/schemas/CorrelationResponse"
      routing:
        strategy: "internal"
        correlation: "required"

  schemas:
    TaskSubmitRequest:
      type: object
      required: ["task"]
      properties:
        task:
          type: object
          required: ["name", "targetAgent", "payload"]
          properties:
            name: { type: string }
            targetAgent: { type: string }
            payload: { type: object }
        metadata:
          type: object
          properties:
            requestedBy: { type: string }
            purpose: { type: string }

    TaskSubmitResponse:
      type: object
      required: ["taskId", "status"]
      properties:
        taskId: { type: string }
        status: { type: string, enum: ["accepted", "rejected"] }
        audit:
          $ref: "#/schemas/AuditEnvelope"

    TaskStatusRequest:
      type: object
      required: ["taskId"]
      properties:
        taskId: { type: string }

    TaskStatusResponse:
      type: object
      required: ["taskId", "status"]
      properties:
        taskId: { type: string }
        status: { type: string }
        result: { type: object }
        audit:
          $ref: "#/schemas/AuditEnvelope"

    EventLogRequest:
      type: object
      required: ["event"]
      properties:
        event:
          type: object
          required: ["type", "payload"]
          properties:
            type: { type: string }
            payload: { type: object }

    EventLogResponse:
      type: object
      required: ["accepted"]
      properties:
        accepted: { type: boolean }
        audit:
          $ref: "#/schemas/AuditEnvelope"

    CorrelationRequest:
      type: object
      required: ["requestId"]
      properties:
        requestId: { type: string }

    CorrelationResponse:
      type: object
      required: ["requestId", "response"]
      properties:
        requestId: { type: string }
        response: { type: object }
        audit:
          $ref: "#/schemas/AuditEnvelope"

    AuditEnvelope:
      type: object
      properties:
        correlationId: { type: string }
        timestamp: { type: string, format: "date-time" }
        routedBy: { type: string }
        privilegesChecked: { type: array, items: { type: string } }
